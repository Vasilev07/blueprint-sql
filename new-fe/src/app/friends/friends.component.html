<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>

<div class="card">
  <div class="tabbar-header">
    <span class="tabbar-title">Friends</span>
    <span class="tabbar-user" *ngIf="currentUserEmail">
      <i class="pi pi-user"></i>
      <span class="email">{{ currentUserEmail }}</span>
    </span>
  </div>
  <p-tabView>
    <!-- All Users Tab -->
    <p-tabPanel header="All Users">
      <app-all-users></app-all-users>
    </p-tabPanel>

    <!-- Friend Requests Tab -->
    <p-tabPanel>
      <ng-template pTemplate="header">
        <span style="display: flex; align-items: center; gap: 0.5rem;">
          Friend Requests
          <p-badge *ngIf="incomingRequestsCount > 0" 
                   [value]="incomingRequestsCount.toString()" 
                   severity="danger">
          </p-badge>
        </span>
      </ng-template>
      <app-friend-requests (requestCountChange)="onRequestCountChange($event)"></app-friend-requests>
    </p-tabPanel>

    <!-- My Friends Tab -->
    <p-tabPanel header="My Friends">
      <app-my-friends></app-my-friends>
    </p-tabPanel>
  </p-tabView>
</div>
