<div class="profile-container">
  <!-- Profile Header -->
  <div class="profile-header">
    <div class="user-info">
      <h1 class="user-name">{{ currentUser?.fullName || 'User' }}</h1>
      <div class="user-location">
        <i class="pi pi-map-marker"></i>
        <span>Location â€¢ Distance</span>
      </div>
    </div>
    <div class="user-avatar">
      <p-avatar
        [label]="getUserInitials()"
        size="xlarge"
        styleClass="profile-avatar">
      </p-avatar>
    </div>
  </div>

  <!-- Main Content with Tabs -->
  <div class="main-content">
    <div class="content-area">
      <p-tabView>
        <!-- Photos Tab -->
        <p-tabPanel header="Photos">
          <div class="photos-content">
            <!-- Create Gallery Button -->
            <div class="gallery-actions">
              <p-button
                label="+ Create New Gallery"
                styleClass="p-button-outlined create-gallery-btn">
              </p-button>
            </div>

            <!-- Photo Galleries Section -->
            <div class="galleries-section">
              <h3 class="section-title">PHOTO GALLERIES</h3>
              <div class="empty-galleries">
                <p>No galleries created yet</p>
              </div>
            </div>

            <!-- Profile Images Section -->
            <div class="profile-images-section">
              <h3 class="section-title">PROFILE IMAGES</h3>
              <div class="visibility-info">
                <span class="visibility-label">Public</span>
              </div>

              <div class="profile-images-gallery">
                <div *ngIf="userPhotos.length === 0" class="empty-gallery">
                  <div class="empty-gallery-content">
                    <i class="pi pi-camera empty-icon"></i>
                    <p class="empty-text">
                      This gallery is still empty. This gallery is only visible to you since it is empty.
                    </p>
                    <p-fileUpload
                      mode="basic"
                      name="photo"
                      accept="image/*"
                      maxFileSize="10000000"
                      (onUpload)="onPhotoUpload($event)"
                      (onSelect)="onPhotoUpload($event)"
                      chooseLabel="Choose Photo"
                      styleClass="upload-button">
                    </p-fileUpload>
                  </div>
                </div>

                <div *ngIf="userPhotos.length > 0" class="photos-grid">
                  <div *ngFor="let photo of userPhotos" class="photo-item">
                    <img
                      [src]="getPhotoUrl(photo.id)"
                      [alt]="photo.name"
                      class="photo-image">
                    <div class="photo-overlay">
                      <span class="photo-name">{{ photo.name }}</span>
                    </div>
                  </div>

                  <!-- Add more photos button -->
                  <div class="add-photo-item">
                    <p-fileUpload
                      mode="basic"
                      name="photo"
                      accept="image/*"
                      maxFileSize="10000000"
                      (onUpload)="onPhotoUpload($event)"
                      (onSelect)="onPhotoUpload($event)"
                      chooseLabel="+"
                      styleClass="add-photo-button">
                    </p-fileUpload>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </p-tabPanel>

        <!-- Videos Tab -->
        <p-tabPanel header="Videos">
          <div class="videos-content">
            <p>Videos content coming soon...</p>
          </div>
        </p-tabPanel>

        <!-- What's Up Tab -->
        <p-tabPanel header="What's Up">
          <div class="whats-up-content">
            <p>What's up content coming soon...</p>
          </div>
        </p-tabPanel>

        <!-- Friends Tab -->
        <p-tabPanel header="Friends">
          <div class="friends-content">
            <p>Friends content coming soon...</p>
          </div>
        </p-tabPanel>

        <!-- Groups Tab -->
        <p-tabPanel header="Groups">
          <div class="groups-content">
            <p>Groups content coming soon...</p>
          </div>
        </p-tabPanel>

        <!-- Validations Tab -->
        <p-tabPanel header="Validations">
          <div class="validations-content">
            <p>Validations content coming soon...</p>
          </div>
        </p-tabPanel>
      </p-tabView>
    </div>

    <!-- Right Sidebar -->
    <div class="right-sidebar">
      <div class="sidebar-content">
        <!-- Trial Membership -->
        <div class="sidebar-section">
          <div class="section-header">
            <i class="pi pi-star"></i>
            <span>Trial membership</span>
          </div>
        </div>

        <!-- Friends Section -->
        <div class="sidebar-section">
          <div class="section-header">
            <h4>FRIENDS {{ friends.length }}</h4>
            <p-button
              icon="pi pi-plus"
              styleClass="p-button-text p-button-sm add-friend-btn">
            </p-button>
          </div>
          <div class="friends-list">
            <div *ngFor="let friend of friends" class="friend-item">
              <p-avatar
                [label]="friend.user?.firstname?.charAt(0) || 'F'">
              </p-avatar>
              <span class="friend-name">{{ friend.user?.firstname }}</span>
            </div>
            <div *ngIf="friends.length === 0" class="no-friends">
              <p>No friends yet</p>
            </div>
          </div>
        </div>

        <!-- Looking For Section -->
        <div class="sidebar-section">
          <div class="section-header">
            <h4>LOOKING FOR</h4>
            <p-button
              label="Edit"
              styleClass="p-button-text p-button-sm">
            </p-button>
          </div>
          <div class="looking-for-content">
            <i class="pi pi-users"></i>
            <span>Not specified</span>
          </div>
        </div>

        <!-- Swing Status Section -->
        <div class="sidebar-section">
          <div class="section-header">
            <h4>SWING STATUS</h4>
            <p-button
              label="Edit"
              styleClass="p-button-text p-button-sm">
            </p-button>
          </div>
          <div class="swing-status-content">
            <i class="pi pi-users"></i>
            <span>Not specified</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Loading Spinner -->
<p-progressSpinner
  *ngIf="isLoading || isUploading"
  styleClass="loading-spinner">
</p-progressSpinner>

<!-- Toast Messages -->
<p-toast></p-toast>
